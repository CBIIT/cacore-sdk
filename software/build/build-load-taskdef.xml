<?xml version="1.0" encoding="utf-8" ?>
<project name="caCORE SDK - Taskdef Build" default="" basedir="." xmlns:ivy="antlib:org.apache.ivy.ant" xmlns:cs="antlib:com.puppycrawl.tools.checkstyle">

	<!-- BDA standard structure -->
	<property name="build.dir" location="." />
	<property name="target.dir" location="${software.dir}/target" />
	<property name="bda-utils.dir" location="${target.dir}/bda-utils" />
	<property name="ivy.lib.dir" location="${target.dir}/lib" />
	<property name="tools.dir" location="${build.dir}/tools" />
	<property name="tools.lib.dir" location="${tools.dir}/lib" />
	<property name="load-ivy" location="true" />

	<!-- Paths -->
	<path id="bda-utils.classpath">
		<fileset dir="${bda-utils.dir}">
			<include name="**/*.jar" />
		</fileset>
	</path>

	<path id="ivy.classpath">
		<fileset dir="${ivy.lib.dir}">
			<include name="${ivy.file}" />
			<include name="${ivy-core.file}" />
		</fileset>
	</path>

	<path id="taskdef.cp">
		<fileset dir="${tools.dir}">
			<include name="xmltask-v1.14.jar" />
			<include name="ant-contrib*.jar" />
		</fileset>
	</path>


	<!-- Task definitions -->
	<taskdef name="xmltask" classname="com.oopsconsultancy.xmltask.ant.XmlTask" classpathref="taskdef.cp" onerror="ignore"/>
	<taskdef resource="net/sf/antcontrib/antlib.xml" classpathref="taskdef.cp" onerror="ignore"/>
	<taskdef name="xmlconfig" classname="com.xmlconfig.anttask.XmlConfig" classpathref="bda-utils.classpath" />
	<taskdef resource="liquibasetasks.properties" classpathref="bda-utils.classpath" />
	<taskdef name="groovy" classname="org.codehaus.groovy.ant.Groovy" classpathref="bda-utils.classpath" />
	<taskdef resource="org/apache/ant/antunit/antlib.xml" uri="antlib:org.apache.ant.antunit" classpathref="bda-utils.classpath" />
	<taskdef name="for" classname="net.sf.antcontrib.logic.ForTask" classpathref="bda-utils.classpath" />
	<taskdef resource="net/sf/antcontrib/antcontrib.properties" classpathref="bda-utils.classpath" />
	<if>
		<equals arg1="${load-ivy}" arg2="true"/>
		<then>
			<taskdef resource="org/apache/ivy/ant/antlib.xml" uri="antlib:org.apache.ivy.ant" classpathref="ivy.classpath" />
		</then>
 	</if>
</project>
